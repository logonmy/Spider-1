<head>
    <meta charset="utf-8" />
    <title>echarts中国地图数据</title>
</head>
<body>
	<div id="my-data" data-value="{{ my_data }}"></div>
	<div id="main" style="width: 600px;height:400px;"></div>
</body>
<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="static/js/echarts.min.js" ></script>
<script type="text/javascript" src="static/js/china.js" ></script>
<script type="text/javascript">
function randomData() {
    return Math.round(Math.random()*500);
}
var mydata = [  
    {name: '北京',value: '100' },{name: '天津',value: randomData() },  
    {name: '上海',value: randomData() },{name: '重庆',value: randomData() },  
    {name: '河北',value: randomData() },{name: '河南',value: randomData() },  
    {name: '云南',value: randomData() },{name: '辽宁',value: randomData() },  
    {name: '黑龙江',value: randomData() },{name: '湖南',value: randomData() },  
    {name: '安徽',value: randomData() },{name: '山东',value: randomData() },  
    {name: '新疆',value: randomData() },{name: '江苏',value: randomData() },  
    {name: '浙江',value: randomData() },{name: '江西',value: randomData() },  
    {name: '湖北',value: randomData() },{name: '广西',value: randomData() },  
    {name: '甘肃',value: randomData() },{name: '山西',value: randomData() },  
    {name: '内蒙古',value: randomData() },{name: '陕西',value: randomData() },  
    {name: '吉林',value: randomData() },{name: '福建',value: randomData() },  
    {name: '贵州',value: randomData() },{name: '广东',value: randomData() },  
    {name: '青海',value: randomData() },{name: '西藏',value: randomData() },  
    {name: '四川',value: randomData() },{name: '宁夏',value: randomData() },  
    {name: '海南',value: randomData() },{name: '台湾',value: randomData() },  
    {name: '香港',value: randomData() },{name: '澳门',value: randomData() }  
];
{#console.log($("#my-data").data("value"));#}
mydata = $("#my-data").data("value");
mydata = [{'name': '四川', 'value': 6}, {'name': '上海', 'value': 12}, {'name': '重庆', 'value': 3}, {'name': '北京', 'value': 9}, {'name': '陕西', 'value': 3}, {'name': '广东', 'value': 12}]
// var my_data = {{ my_data }};
var optionMap = {  
    backgroundColor: '#FFFFFF',  
    title: {  
        text: '全国地图大数据',  
        subtext: '',  
        x:'center'  
    },  
    tooltip : {  
        trigger: 'item'  
    },
                
    //左侧小导航图标
    visualMap: {  
        show : true,  
        x: 'left',  
        y: 'center',  
        splitList: [   
            {start: 40, end: 50},
            {start: 30, end: 40},
            {start: 20, end: 30},
            {start: 10, end: 20},  
            {start: 5, end: 10},
            {start: 0, end: 5},  
        ],  
        color: ['#5475f5', '#9feaa5', '#85daef','#74e2ca', '#e6ac53', '#9fb5ea']  
    },  
                
    //配置属性
    series: [{  
        name: '数据',  
        type: 'map',  
        mapType: 'china',   
        roam: true,  
        label: {  
            normal: {  
                show: true  //省份名称  
            },
            emphasis: {  
                show: false  
            }  
        },  
        data:mydata  //数据
    }]  
};

// optionMap = {
//     xAxis: {
//         type: 'category',
//         data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
//     },
//     yAxis: {
//         type: 'value'
//     },
//     series: [{
//         data: [820, 932, 901, 934, 1290, 1330, 1320],
//         type: 'line'
//     }]
// };
//初始化echarts实例
var myChart = echarts.init(document.getElementById('main'));

//使用制定的配置项和数据显示图表
myChart.setOption(optionMap);
</script>
